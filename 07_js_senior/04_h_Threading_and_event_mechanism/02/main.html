<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        body{background-color: black;}
    </style>
</head>
<body>
    <!--
        如何证明js是单线程的？
            setTimeout()的回调函数是在主线程中执行的
            定时器回调函数只有在运行栈中的代码全部执行完后才可能执行
        为什么js是单线程而不是多线程？
            与用途有关
            作为浏览器脚本语言，js的用途是与用户交互以及操控DOM
            这决定了它只能单线程，否则会带来很复杂的同步问题
    -->

    <script>
        setTimeout(() => {
            console.log("timeout 2222")
        }, 2000);
        setTimeout(() => {
            console.log("timeout 1")
        }, 1000);
        function fn(){
            console.log("fn")
        }
        setTimeout(() => {
            console.log("timeout 000")
        }, 0);
        fn()
        console.log("ddd之前")
        alert("ddd")        // 会暂停当前主线程的执行，同时暂停了计时
        console.log("ddd之后")
    </script>

    <!--
        代码分类
            初始化代码
            回调代码
                回调函数内的代码 
    -->

    <!--
        js引擎执行的流程
            先执行初始化代码        回调函数(异步执行)
            之后设置定时器
            绑定事件监听
            发送ajax请求
            后面在某个时刻才会执行回调代码
    -->

    <!--
        执行栈
            所有代码都在此空间执行
            execution stack
        浏览器内核
            js模块在主线程运行
            其他模块在主线程或分线程运行
        任务队列
        消息队列
        事件队列

        事件轮询
            从任务队列中循环驱逐回调函数放入执行栈中处理
        
        
    -->
</body>
</html>